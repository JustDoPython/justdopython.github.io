---
layout: post     
title:  Python 招聘岗位数据可视化                                  
category: Python 招聘岗位数据可视化       
copyright: python                           
tagline: by 某某白米饭           
tags: 
  - 
---

## Python 招聘岗位数据可视化

### 项目背景

最近朋友圈又有小伙伴被降薪、被裁员了。往年金三银四是找工作的好时机，但在今年疫情之下互联网似乎更冷了。为了更好的找到好工作，就要了解企业需要什么样的人才，地区之间人才需求数量，薪资、学历与经验之间的关系等等。本文以拉勾网  Python 岗位数据作为分析。
<!--more-->
![](http://www.justdopython.com/assets/images/2020/lagou/lagou.png)

### 获取数据

获取数据比较简单，拉勾网是用 POST 提交 Ajax 请求数据。

![](http://www.justdopython.com/assets/images/2020/lagou/lagou2.png)

部分爬取代码

```python
def crawler(self):
    headers = {
        'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.132 Safari/537.36',
        'Host': 'www.lagou.com',
        'Referer': 'https://www.lagou.com/jobs/list_python/p-city_0?&cl=false&fromSearch=true&labelWords=&suginput=',
        'Cookie': 'cookie',
        'X-Anit-Forge-Code': '0',
        'X-Anit-Forge-Token': 'None',
        'X-Requested-With': 'XMLHttpRequest'
    }
    page = 0
    totalCount = 1
    resultSize = 0
    while (page * resultSize) <= totalCount:
        page = page + 1
        url = "https://www.lagou.com/jobs/positionAjax.json?needAddtionalResult=false"

        datas = {
            'first': 'false',
            'pn': page,
            'kd': 'python'
        }
        if page == 1:
            datas['first'] = 'true'

        html = requests.post(url, headers=headers, data=datas)
        result = html.json()

        if page == 1:
            totalCount = result['content']['positionResult']['totalCount']
            resultSize = result['content']['positionResult']['resultSize']

        jobs = result['content']['positionResult']['result']
        for job in jobs:
            job_array = [job['positionName'], job['workYear'], job['salary'], job['city'], job['education'],
                            job['positionAdvantage'], "|".join(job['companyLabelList']),
                            job['financeStage'], job['companySize'], job['industryField'], job['firstType']]

            # 存入数据库
            self.cursor.execute(self.sql, tuple(job_array))
            self.conn.commit()

        r = random.randint(15, 30)
        time.sleep(r)
```

把抓取的数据存入 Mysql 数据库中

![](http://www.justdopython.com/assets/images/2020/lagou/mysql.png)

### 数据可视化

数据库中杂乱的数据必须经过分析才有意义，使用第三方的 pyecharts 模块 ( https://github.com/pyecharts/pyecharts ) 将招聘数据可视化。

##### 城市岗位分布图

![](http://www.justdopython.com/assets/images/2020/lagou/city-heart.png)

![](http://www.justdopython.com/assets/images/2020/lagou/bar.png)

在城市岗位热力图和柱状图中可以看出北上广超一线城市提供了大部分的工作岗位。二三线城市提供的岗位不是很多。

##### 学历与工作年限的占比

![](http://www.justdopython.com/assets/images/2020/lagou/workYear.png)

![](http://www.justdopython.com/assets/images/2020/lagou/edu.png)

招聘岗位中本科学历的占比远大于大专、硕士和不限。1-5 年工作经验的本科人才能更快的找到工作，5-10年工作经验的岗位较少。

##### 年限与薪资

![](http://www.justdopython.com/assets/images/2020/lagou/xz.png)

在上图表中可以看出工作经验与薪资是成正比的，其中 1-3 年工作经验薪资在 10K 到 25K之间，3-5年的在 10K 到 30K 之间， 5-10 年的在 15K 到 35K 之间。3-10 年工作经验的最高薪资可以达到 60K。

##### 工作类型

![](http://www.justdopython.com/assets/images/2020/lagou/hangye.png)

移动互联网行业在招聘上占比大。数据服务、企业服务、金融、电商行业招聘人数较少。

##### 企业融资

![](http://www.justdopython.com/assets/images/2020/lagou/rongzi.png)

从融资上市来看上市融资的企业招聘岗位数量还是很多的，不需要融资的企业也占了 30% 的比例，未融资的企业只有 12% 左右。

##### 福利时间

![](http://www.justdopython.com/assets/images/2020/lagou/world.png)

带薪年假、绩效奖金、扁平管理、弹性工作等是多数企业能给员工的福利。

### 总结

招聘岗位相对来说还是较少的，本科以上、有工作经验的人才可以更快的找到工作。融资上市的企业招聘不在少数。

示例代码：[拉钩招聘分析](https://github.com/JustDoPython/python-100-day/tree/master/lagou)